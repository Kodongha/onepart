<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="faclilty">
	<resultMap type="manager_reservation" id="manager_reservationReseultSet">
		<id property="facSeq" column="FAC_SEQ"></id>
		<result property="facNm" column="FAC_NM"/>
		<result property="facPosition" column="FAC_POSITION"/>
		<result property="facAvailWeekOfDay" column="FAC_AVAIL_WEEK_OF_DAY"/>
		<result property="facAvailTm" column="FAC_AVAIL_TM"/>
		<result property="facDefaultFee" column="FAC_DEFAULT_FEE"/>
		<result property="facMaxHead" column="FAC_MAX_HEAD"/>
		<result property="facSquareMeasure" column="FAC_SQUARE_MEASURE"/>
		<result property="qrImgPath" column="QR_IMG_PATH"/>
		<result property="facDetailInfo" column="FAC_DETAIL_INFO"/>
		<result property="facRsrvInfo" column="FAC_RSRV_INFO"/>
		<result property="facUseInfo" column="FAC_USE_INFO"/>
		<result property="facCaution" column="FAC_CAUTION"/>
		<result property="facType" column="FAC_TYPE"/>
		<result property="facDelTf" column="FAC_DEL_TF"/>
		<result property="fileType" column="FILE_TYPE"/>
		<result property="originNm" column="ORIGIN_NM"/>
		<result property="changeNm" column="CHANGE_NM"/>
		<result property="filePath" column="FILE_PATH"/>
		<result property="uploadDt" column="UPLOAD_DT"/>
		<result property="messengerSeq" column="MESSENGER_SEQ"/>
		<result property="openChatCommSeq" column="OPEN_CHAT_COMM_SEQ"/>
	</resultMap>

	<resultMap type="manager_facReservation" id="manager_facReservationResultSet">
		<id property="facRsrvSeq" column="FAC_RSRV_SEQ"/>
		<result property="facSeq" column="FAC_SEQ"/>
		<result property="propUseDt" column="PROP_USE_DT"/>
		<result property="propUseTm" column="PROP_USE_TM"/>
		<result property="residentSeq" column="RESIDENT_SEQ"/>
		<result property="propStatus" column="PROP_STATUS"/>
		<result property="toalFee" column="TOAL_FEE"/>
		<result property="useHeadCount" column="USE_HEAD_COUNT"/>
		<result property="usePurpose" column="USE_PURPOSE"/>
		<result property="etc" column="ETC"/>
		<result property="rsrvGroupType" column="RSRV_GROUP_TYPE"/>
		<result property="rsrvNm" column="RSRV_NM"/>
		<result property="enrollDt" column="ENROLL_DT"/>
		<result property="propSeat" column="PROP_SEAT"/>
		<result property="rsrvPhone" column="RSRV_PHONE"/>
		<result property="facNm" column="FAC_NM"/>
		<result property="residentNm" column="RESIDENT_NM"/>
	</resultMap>

	<select id="selectAllReservation" resultMap="manager_reservationReseultSet">
		SELECT *
		FROM FAC F
		JOIN IMAGE I ON (F.FAC_SEQ = I.FAC_SEQ)
		WHERE F.FAC_DEL_TF = 'N'
	</select>

	<select id="selectAllUserReservation" resultMap="manager_facReservationResultSet">
		SELECT *
		FROM FAC_RSRV R
		JOIN FAC F ON (R.FAC_SEQ = F.FAC_SEQ)
		JOIN RESIDENT RS ON (R.RESIDENT_SEQ = RS.RESIDENT_SEQ)
	</select>

	<select id="selectOneUserReservation" resultMap="manager_facReservationResultSet" parameterType="_int">
		SELECT *
		FROM FAC_RSRV R
		JOIN FAC F ON (R.FAC_SEQ = F.FAC_SEQ)
		JOIN RESIDENT RS ON (R.RESIDENT_SEQ = RS.RESIDENT_SEQ)
		WHERE FAC_RSRV_SEQ = #{facRsrvSeq}
	</select>

</mapper>